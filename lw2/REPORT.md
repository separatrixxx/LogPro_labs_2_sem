## Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Лохматов Н.И.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Для решения любой логической задачи можно использовать либо метод полного перебора, либо метод исключения. В методе полного перебора, как следует из названия, происходит перебор всех возможных вариантов решения, и для каждого проверяется истинность значения. В методе исключения мы пытаемся отсечь противоречащие варианты, вследствие чего количесвто вариантов заметно снижается, что повышает общую эффективность решения. Задачи такого плана легко решить с помощью логики предикатов, так как основаны на логике высказываний. Для решения этих задач удобно использовать логический язык программирования, например, Prolog, который выведет все решения, если описать все высказывания из данной задачи, либо докажет, что решений не существует.

## Задание

Вариант 8. 

Борисов, Кириллов, Данин и Савин инженеры. Один из них автомеханик, другой химик, третий строитель, четвертый радиотехник. Борисов, который обыгрывает в шахматы Данина, но проигрывает Савину, бегает на лыжах лучше того инженера, который моложе его, и ходит в театр чаще, чем тот инженер, который старше Кириллова. Химик, который посещает театр чаще, чем автомеханик, но реже, чем строитель, не является ни самым молодым, ни самым старшим из этой четверки. Строитель, который на лыжах бегает хуже, чем радиотехник, как правило, проигрывает в шахматных сражениях автомеханику. Самый пожилой из инженеров лучше всех играет в шахматы и чаще всех бывает в театре, а самый молодой лучше всех ходит на лыжах. Назовите профессии каждого из инженеров, если известно, что ни в спорте, ни в приверженности к театру среди нет двух одинаковых.

## Принцип решения

Сначала напишем условия для определения, какой инженер лучше в той или иной специальности:

```prolog
better(X,Y,[X|Z]):-
    member(Y,Z).
better(X,Y,[_|Z]):-
    better(X,Y,Z).
```

Затем напишем абсолютную позицию для 4 инжернеров (чем ближе инженер к началу, тем он лучше):

```prolog
begin(A,[A,_,_,_]).
medium(B,[_,B,_,_]).
medium(C,[_,_,C,_]).
end(D,[_,_,_,D]).
```

Для вывода ответа используем предикат `ans()`, который содержит список термов вида `man(Инженер, Кем является инженер)`:

```prolog
ans() :-
    Engineers = [man(A, WhoA), man(B, WhoB), man(C, WhoC),  man(D, WhoD)],
    ['Борисов','Кириллов','Данин','Савин']=[A, B, C, D],
    permutation(['Aвтомеханик','Радиотехник','Химик','Строитель'],[WhoA, WhoB, WhoC, WhoD]),

    write(A), write(' - '), write(WhoA), write('\n'),
    write(B), write(' - '), write(WhoB), write('\n'),
    write(C), write(' - '), write(WhoC), write('\n'),
    write(D), write(' - '), write(WhoD), write('\n').
```

Также `ans()` выводит ответ в фоме: Инженер1 - Специальность 1.

Для определения возраста используем перестановку `permutation(Engineers,Age)`. Выпишем все условия из задачи, касающиеся возрастов инженеров. Борисов бегает на лыжах лучше того инженера, который моложе его. Поскольку мы не знаем имя инженера введём переменную `Engineer1`, и пропишем это условие в качестве относительной позицией, также проверив принадлежность этого инженера к списку `Engineers`. Условие "химик не является ни самым молодым, ни самым старшим" отражено в предикате `medium(man(_,'Химик'),Age)`. Также в условии задачи есть самый молодой и самый пожилой инженеры. Запишем эти факты в качестве абсолютной позиции, введя переменные `Young`, `Elderly`:

```prolog
    permutation(Engineers,Age),
    member(Engineer1, Engineers),
    better(man('Борисов', _), Engineer1, Age),
    medium(man(_,'Химик'),Age),
    end(Young, Age),
    begin(Elderly,Age),
```

Для определения успехов инженеров в шахматах была использована переставновка `permutation(Engineers,Chess)`. Пропишем из задачи все условия, которые касаются шахмат: Борисов обыгрывает в шахматы Данина, но проигрывает Савину; cтроитель проигрывает в шахматных сражениях автомеханику. Запишем в качестве относительной позиции данные условия:

```prolog
    permutation(Engineers,Chess),
    begin(Elderly,Chess),
    better( man('Борисов', _),man('Данин', _), Chess),
    better(man('Савин', _),man('Борисов', _),  Chess),
    better(man(_, 'Aвтомеханик'), man(_, 'Строитель'),  Chess),
```

Аналогично определяем условия для лыж и театра:

```prolog
    permutation(Engineers, Ski),
    begin(Young, Ski),
    better(man(_, 'Радиотехник'), man(_, 'Строитель'), Ski),
    better(man('Борисов', _), _, Ski),

    permutation(Engineers, Theatre),
    begin(Elderly,Theatre),
    member(Engineer2, Engineers),
    better(man('Борисов', _), Engineer2,  Theatre),
    better(Engineer2, man('Кириллов', _), Age),
    better(man(_, 'Химик'), man(_, 'Aвтомеханик'), Theatre),
    better(man(_, 'Строитель'),  man(_, 'Химик'), Theatre),
```

В итоге программа выведет:

```prolog
    ?- ans().
    Борисов - Строитель
    Кириллов - Aвтомеханик
    Данин - Химик
    Савин - Радиотехник
```

В программе нет никаких противоречий, так как решение одно, однако из-за перебора программа не самая эффективная.

## Выводы

Выполнив данную работу, я приобрел навык решения логических задач с использованием языка Prolog, который является превосходным инструмент для такой работы. Описывая информацию, полученную из условия задачи, с помощью перебора получаем верный и точный ответ. Иногда легче, удобнее, приятнее сделать перевод условия задачи в набор предикатов и обработать их, нежели решать логическую задачу вручную математическими методами. Стоит также учитывать и объем входных данных. На небольших данных Prolog сможет решить логическую задачу за короткий срок. Но если объем входных данных огромный, то из-за рекурсий и постоянный перестановок сложность алгоритма может достигать n! и получение решения задачи уже не будет получено быстро.




